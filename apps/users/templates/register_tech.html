{% extends "base.html" %}
{% load static %}
{% load crispy_forms_tags %}

{% block title %}
Registro Técnico - ReparaYa
{% endblock %}

{% block content %}

<!-- Main Content -->
<main class="flex-grow-1 bg-white py-5">
    <div class="container">
        <div class="row justify-content-center">
            <!-- Mantenemos el formulario ancho con col-md-8 -->
            <div class="col-md-8">  
                <h1 class="text-center text-custom-blue mb-4">REGISTRARSE</h1>
                <p class="text-center mb-3">Qué eres?</p>

                <!-- Ajustamos el estilo para que los botones de usuario/técnico sean más pequeños -->
                <div class="d-flex flex-column align-items-center w-100 mb-4" role="group">
                    <input type="radio" class="btn-check" name="user_type" id="usuario" autocomplete="off" disabled>
                    <label class="btn btn-user-type mb-2 w-50" for="usuario">Usuario</label>

                    <input type="radio" class="btn-check" name="user_type" id="tecnico" autocomplete="off" checked>
                    <label class="btn btn-user-type mb-2 w-50" for="tecnico">Técnico</label>
                </div>

                <form method="post" action="{% url 'register_tech' %}" enctype="multipart/form-data">
                    {% csrf_token %}
                    <div class="row g-3">
                        <div class="col-md">
                            <div class="form-group">
                                {{ form.rut|as_crispy_field }}
                            </div>                        
                        </div>
                        <div class="col-md">
                            <div class="form-floating">
                                {{ form.first_name|as_crispy_field }}
                            </div>
                        </div>
                        <div class="col-md">
                            <div class="form-floating">
                                {{ form.last_name|as_crispy_field }}
                            </div>
                        </div>
                    </div>

                    <br>

                    <div class="row g-3">
                        <div class="col-md">
                            <div class="form-floating">
                                {{ form.email|as_crispy_field }}
                            </div>
                        </div>
                        <div class="col-md">
                            <div class="form-floating">
                                {{ form.email_confirm|as_crispy_field }}
                            </div>
                        </div>
                        <div class="col-md">
                            <div class="form-floating">
                                {{ form.phone|as_crispy_field }}
                            </div>
                        </div>
                    </div>

                    <br>

                    <div class="row g-3">
                        <div class="row g-2">
                            <div class="col-md">
                                <div class="form-floating">
                                    {{ form.password1|as_crispy_field }}
                                </div>
                            </div>
                            <div class="col-md">
                                <div class="form-floating">
                                    {{ form.password2|as_crispy_field }}
                                </div>
                            </div>
                            <div class="col-md">
                                <div class="form-floating">
                                    {{ form.url_linkedin|as_crispy_field }}
                                </div>
                            </div>
                        </div>

                        <div class="row g-3">
                            <div class="col-md">
                                {{ form.title|as_crispy_field }}
                            </div>

                            <div class="col-md">
                                {{ form.cv|as_crispy_field }}
                            </div>

                            <div class="col-md">
                                {{ form.letter|as_crispy_field }}
                            </div>
                        </div>
                    </div>

                    <br><br><br>
                    
                    <button type="submit" class="btn btn-custom-orange w-100">Confirmar Solicitud</button>
                </form>
            </div>
        </div>
    </div>
</main>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

{% endblock content %}
